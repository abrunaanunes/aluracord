(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{8752:function(r,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return e(4770)}])},4770:function(r,t,e){"use strict";e.r(t),e.d(t,{default:function(){return x}});var a=e(5893),n=e(5717),i=e(1163),s=e(7294),o=e(1181);function u(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=r[e];return a}function l(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var a,n,i=[],s=!0,o=!1;try{for(e=e.call(r);!(s=(a=e.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(u){o=!0,n=u}finally{try{s||null==e.return||e.return()}finally{if(o)throw n}}return i}}(r,t)||function(r,t){if(!r)return;if("string"===typeof r)return u(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(r,t)}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(r){var t=l(s.useState(""),2),e=t[0],i=t[1];return(0,a.jsxs)(n.xu,{styleSheet:{position:"relative"},children:[(0,a.jsx)(n.zx,{styleSheet:{borderRadius:"5px",padding:"0 3px 0 0",minWidth:"50px",minHeight:"44px",fontSize:"20px",marginBottom:"8px",marginRight:"10px",lineHeight:"0",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.rS.O.OY.wl,filter:e?"grayscale(0)":"grayscale(1)",hover:{filter:"grayscale(0)"}},label:"\ud83d\ude0b",onClick:function(){return i(!e)}}),e&&(0,a.jsxs)(n.xu,{styleSheet:{display:"flex",flexDirection:"column",borderRadius:"5px",position:"absolute",backgroundColor:o.rS.O.OY.YY,width:{xs:"200px",sm:"290px"},height:"300px",right:"30px",bottom:"30px",padding:"16px",boxShadow:"rgba(4, 4, 5, 0.15) 0px 0px 0px 1px, rgba(0, 0, 0, 0.24) 0px 8px 16px 0px"},onClick:function(){return i(!1)},children:[(0,a.jsx)(n.xv,{styleSheet:{color:o.rS.O.OY.M6,fontWeight:"bold"},children:"Stickers"}),(0,a.jsx)(n.xu,{tag:"ul",styleSheet:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",flex:1,paddingTop:"16px",overflow:"scroll"},children:o.xe.map((function(t){return(0,a.jsx)(n.xv,{onClick:function(){Boolean(r.onStickerClick)&&r.onStickerClick(t)},tag:"li",styleSheet:{width:"50%",borderRadius:"5px",padding:"10px",focus:{backgroundColor:o.rS.O.OY.RW},hover:{backgroundColor:o.rS.O.OY.RW}},children:(0,a.jsx)(n.Ee,{src:t})},t)}))})]})]})}function h(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=r[e];return a}function g(r,t){return function(r){if(Array.isArray(r))return r}(r)||function(r,t){var e=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=e){var a,n,i=[],s=!0,o=!1;try{for(e=e.call(r);!(s=(a=e.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(u){o=!0,n=u}finally{try{s||null==e.return||e.return()}finally{if(o)throw n}}return i}}(r,t)||f(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(r){return function(r){if(Array.isArray(r))return h(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||f(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(r,t){if(r){if("string"===typeof r)return h(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(r,t):void 0}}var m=(0,e(6186).eI)("https://djtodvpndrskvevlbgzq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTY0MzU1MTQ1NiwiZXhwIjoxOTU5MTI3NDU2fQ.G6SOfHkJZbQvDctYzRv4A0pJE423uPbSETZQKQuyPdQ");function x(){var r=function(r){var t={from:x,text:r};m.from("messages").insert([t]).then((function(r){r.data})),u("")},t=g(s.useState(""),2),e=t[0],u=t[1],l=g(s.useState([]),2),h=l[0],f=l[1],x=(0,i.useRouter)().query.username;return s.useEffect((function(){var r;m.from("messages").select("*").order("id",{ascending:!1}).then((function(r){var t=r.data;f(t)}));r=function(r){f((function(t){return[r].concat(p(t))}))},m.from("messages").on("INSERT",(function(t){r(t.new)})).subscribe()}),[]),(0,a.jsx)(n.xu,{styleSheet:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.rS.O.OY.jh,color:o.rS.O.OY.M6},children:(0,a.jsxs)(n.xu,{styleSheet:{display:"flex",flexDirection:"column",flex:1,boxShadow:"0 2px 10px 0 rgb(0 0 0 / 20%)",borderRadius:"5px",backgroundColor:o.rS.O.OY.qy,height:"100%",maxWidth:"60vw",maxHeight:"75vh",padding:"32px"},children:[(0,a.jsx)(d,{}),(0,a.jsxs)(n.xu,{styleSheet:{position:"relative",display:"flex",flex:1,height:"80%",backgroundColor:o.rS.O.OY.RW,flexDirection:"column",borderRadius:"5px",padding:"16px"},children:[(0,a.jsx)(w,{messages:h,username:x}),(0,a.jsxs)(n.xu,{as:"form",styleSheet:{display:"flex",alignItems:"center"},children:[(0,a.jsx)(n.nv,{value:e,onChange:function(r){var t=r.target.value;u(t)},onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),r(e))},placeholder:"Insira sua mensagem aqui...",type:"textarea",styleSheet:{width:"100%",border:"0",resize:"none",borderRadius:"5px",padding:"6px 8px",backgroundColor:o.rS.O.OY.YY,marginRight:"12px",color:o.rS.O.OY.Ug}}),(0,a.jsx)(c,{onStickerClick:function(t){r(":sticker: ".concat(t))}}),(0,a.jsx)(n.zx,{type:"button",label:"Enviar",onClick:function(){r(e)},styleSheet:{borderRadius:"5px",padding:"0 3px 0 0",minWidth:"60px",minHeight:"44px",fontSize:"20px",marginBottom:"8px",marginRight:"10px",lineHeight:"0",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:o.rS.O.OY.wl}})]})]})]})})}function d(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(n.xu,{styleSheet:{width:"100%",marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,a.jsx)(n.xv,{variant:"heading5",children:"Chat"}),(0,a.jsx)(n.zx,{variant:"tertiary",colorVariant:"neutral",label:"Logout",href:"/"})]})})}function w(r){r.deleteMessage;var t=r.username;return(0,a.jsx)(n.xu,{tag:"ul",styleSheet:{overflowY:"auto",display:"flex",flexDirection:"column-reverse",flex:1,color:o.rS.O.OY.M6,marginBottom:"16px"},children:r.messages.map((function(r){return(0,a.jsxs)(n.xv,{tag:"li",styleSheet:{borderRadius:"5px",padding:"6px",marginBottom:"12px",hover:{backgroundColor:o.rS.O.OY.qy}},children:[(0,a.jsxs)(n.xu,{styleSheet:{marginBottom:"8px"},children:[(0,a.jsx)(n.Ee,{styleSheet:{width:"20px",height:"20px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},src:"https://github.com/".concat(r.from,".png")}),(0,a.jsx)(n.xv,{tag:"strong",children:r.from}),(0,a.jsx)(n.xv,{styleSheet:{fontSize:"10px",marginLeft:"8px",color:o.rS.O.OY.wl},tag:"span",children:(new Date).toLocaleDateString()}),(0,a.jsx)(n.JO,{name:"FaTrash",styleSheet:{display:t===r.from?"block":"none",marginLeft:"auto",marginRight:".7rem",transition:".4s ease all",cursor:"pointer"}})]}),r.text.startsWith(":sticker:")?(0,a.jsx)(n.Ee,{styleSheet:{width:"150px",height:"150px",borderRadius:"5px"},src:r.text.replace(":sticker:","")}):r.text]},r.id)}))})}},1181:function(r){"use strict";r.exports=JSON.parse('{"u2":"Hogwarts","rS":{"O":{"T$":{"pl":"#3F9142"},"OY":{"e2":"#E4E7EB","Ug":"#CBD2D9","wl":"#9AA5B1","RW":"#29333D","qy":"#212931","YY":"#181F25","H":"#101418","jh":"#080A0C","M6":"#FFFFFF"}}},"xe":["https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_1.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_2.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_3.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_4.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_5.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_6.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_7.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_8.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_9.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_10.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_11.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_12.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_13.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_14.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_15.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_16.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_17.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_18.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_19.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_20.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_21.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_22.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_23.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_24.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_25.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_26.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_27.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_28.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_29.png","https://www.alura.com.br/imersao-react-4/assets/figurinhas/Figurinha_30.png","http://2.bp.blogspot.com/-d21tffsTIQo/U_H9QjC69gI/AAAAAAAAKqM/wnvOyUr6a_I/s1600/Pikachu%2B2.gif","https://media1.giphy.com/media/BdghqxNFV4efm/200.gif","https://c.tenor.com/TKpmh4WFEsAAAAAC/alura-gaveta-filmes.gif","https://i.pinimg.com/originals/0b/1c/23/0b1c2307c83e1ebdeed72e41b9a058ad.gif","https://c.tenor.com/VylWt5lyjBoAAAAC/omg-yes.gif","https://i.pinimg.com/originals/96/34/c5/9634c520c9a3cd4e7f23190bb2c96500.gif"]}')}},function(r){r.O(0,[445,497,186,774,888,179],(function(){return t=8752,r(r.s=t);var t}));var t=r.O();_N_E=t}]);